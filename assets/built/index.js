!function(t,e){t&&!t.getElementById("livereloadscript")&&((e=t.createElement("script")).async=1,e.src="//"+(self.location.host||"localhost").split(":")[0]+":35729/livereload.js?snipver=1",e.id="livereloadscript",t.getElementsByTagName("head")[0].appendChild(e))}(self.document),function(){"use strict";!function(){function t(){console.log("Truncating now..."),document.querySelectorAll("[data-truncate]").forEach((t=>{t.classList.contains("content-ready")||function(t){if(window.innerWidth<=1e3)return void t.classList.add("content-ready");const e=parseInt(t.getAttribute("data-truncate"),10);if(!e)return;const n=t.textContent,o=t.classList.contains("post-card-title")?"data-full-title":"data-full-excerpt";t.getAttribute(o)||t.setAttribute(o,n),n.length>e&&(t.textContent=n.substring(0,e)+"...",console.log(`Text truncated to ${e} characters`)),t.classList.add("content-ready")}(t)}))}console.log("Direct truncation script loaded"),window.addEventListener("resize",(function(){window.innerWidth>1e3?(document.querySelectorAll("[data-truncate].content-ready").forEach((t=>{t.classList.remove("content-ready")})),t()):document.querySelectorAll("[data-truncate]").forEach((t=>{const e=t.classList.contains("post-card-title")?"data-full-title":"data-full-excerpt",n=t.getAttribute(e);n&&(t.textContent=n),t.classList.add("content-ready")}))})),t(),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",t):t(),setTimeout(t,100),document.addEventListener("infiniteScrollComplete",(()=>{console.log("Infinite scroll completed, truncating new content"),setTimeout(t,100)}));const e=new MutationObserver((function(e){let n=!1;e.forEach((t=>{t.addedNodes.length&&(n=!0)})),n&&setTimeout(t,100)}));"loading"===document.readyState?document.addEventListener("DOMContentLoaded",(function(){e.observe(document.body,{childList:!0,subtree:!0})})):e.observe(document.body,{childList:!0,subtree:!0})}();let t=document.querySelector('link[rel="next"]')?.getAttribute("href");document.querySelector(".gh-burger").addEventListener("click",(function(){document.body.classList.toggle("gh-head-open")})),function(){if(!t)return;new IntersectionObserver(((e,n)=>{try{e.forEach((e=>{e.isIntersecting&&t&&async function(t){try{const e=await fetch(t);if(!e.ok)throw new Error("Failed to fetch page");const n=await e.text(),o=(new DOMParser).parseFromString(n,"text/html"),r=o.querySelectorAll(".post"),c=o.querySelector('link[rel="next"]')?.getAttribute("href");return{posts:r,nextLink:c}}catch(t){throw new Error(t)}}(t).then((e=>{let{posts:o,nextLink:r}=e;o.forEach((t=>{document.querySelector(".gh-postfeed").append(t)})),r?(t=r,n.observe(document.querySelector(".post:last-of-type"))):n.disconnect(),document.dispatchEvent(new CustomEvent("infiniteScrollComplete"))}))}))}catch(t){console.log(t)}}),{rootMargin:"150px"}).observe(document.querySelector(".post:last-of-type"))}()}();
//# sourceMappingURL=index.js.map
